(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[354],{3617:(e,t,s)=>{Promise.resolve().then(s.bind(s,412))},412:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var r=s(5155),d=s(2115),a=s(9606),i=s(4565),o=s(7982),n=s(7058),l=s(6046);function u(){var e,t;let s=(0,i.xI)(),u=(0,l.useRouter)(),{register:m,handleSubmit:c,formState:{errors:b}}=(0,a.mN)(),[x,h]=(0,d.useState)(""),[g,p]=(0,d.useState)(""),[f,v]=(0,d.useState)(null);(0,d.useEffect)(()=>{let e=(0,i.hg)(s,e=>{e?(h(""),v(e)):(h("You need to be logged in to add a book."),v(null))});return()=>e()},[s]);let N=async e=>{if(!f){h("You need to be logged in to add a book.");return}try{await (0,n.gS)((0,n.rJ)(o.db,"books"),{add_date:(0,n.O5)(),isbn:e.isbn,title:e.title,user:"/users/".concat(f.uid)}),p("Book added successfully!"),h(""),u.push("/")}catch(e){console.error("Error adding book:",e),h("An error occurred while adding the book.")}};return(0,r.jsx)("section",{className:"bg-white min-h-screen flex items-center justify-center",children:(0,r.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Add a New Book"}),x&&(0,r.jsx)("div",{className:"text-red-500 bg-red-100 p-4 rounded-md mb-4",children:x}),g&&(0,r.jsx)("div",{className:"text-green-500 bg-green-100 p-4 rounded-md mb-4",children:g}),(0,r.jsxs)("form",{onSubmit:c(N),className:"grid grid-cols-1 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"isbn",className:"block text-sm font-medium text-gray-700",children:"ISBN"}),(0,r.jsx)("input",{...m("isbn",{required:"ISBN is required"}),type:"text",id:"isbn",className:"mt-1 w-full rounded-md border-gray-200 bg-white text-sm text-gray-700 shadow-sm"}),(0,r.jsx)("p",{className:"text-red-500",children:null===(e=b.isbn)||void 0===e?void 0:e.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700",children:"Title"}),(0,r.jsx)("input",{...m("title",{required:"Title is required"}),type:"text",id:"title",className:"mt-1 w-full rounded-md border-gray-200 bg-white text-sm text-gray-700 shadow-sm"}),(0,r.jsx)("p",{className:"text-red-500",children:null===(t=b.title)||void 0===t?void 0:t.message})]}),(0,r.jsx)("button",{type:"submit",className:"w-full rounded-md border border-blue-600 bg-blue-600 px-6 py-3 text-sm font-medium text-white transition hover:bg-transparent hover:text-blue-600 focus:outline-none focus:ring active:text-blue-500",children:"Add Book"})]})]})})}},7982:(e,t,s)=>{"use strict";s.d(t,{db:()=>n,j:()=>o});var r=s(9904),d=s(4565),a=s(7058);let i=(0,r.Wp)({apiKey:"AIzaSyABs8ZIhbsAPFm8PqfE-v_kqVFvM8Fv4kU",authDomain:"frontend-app-wsei.firebaseapp.com",projectId:"frontend-app-wsei",storageBucket:"frontend-app-wsei.firebasestorage.app",messagingSenderId:"193371263244",appId:"1:193371263244:web:6ba3fa9cf180e5079bb929",measurementId:"G-7M1R3618T9"}),o=(0,d.xI)(i),n=(0,a.aU)(i)}},e=>{var t=t=>e(e.s=t);e.O(0,[697,992,512,778,533,441,517,358],()=>t(3617)),_N_E=e.O()}]);