(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[350],{4909:(e,t,a)=>{Promise.resolve().then(a.bind(a,1496))},1496:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>o,dynamic:()=>i});var r=a(5155),s=a(2115),n=a(7982),d=a(7058);let i="force-dynamic";function o(e){let{book:t,onUpdate:a,onCancel:i}=e,[o,l]=(0,s.useState)((null==t?void 0:t.isbn)||""),[c,b]=(0,s.useState)(!1),[m,u]=(0,s.useState)("");(0,s.useEffect)(()=>{(null==t?void 0:t.isbn)&&l(t.isbn)},[t]);let p=async()=>{if(!o.trim()){u("ISBN cannot be empty.");return}b(!0),u("");try{let e=(0,d.H9)(n.db,"books",t.id);await (0,d.mZ)(e,{isbn:o}),a({...t,isbn:o})}catch(e){console.error("Error updating book:",e),u("Failed to update the book. Please try again.")}finally{b(!1)}};return t?(0,r.jsxs)("div",{className:"p-6 bg-white border rounded-md shadow-sm",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-gray-800 mb-4",children:"Edit Book"}),m&&(0,r.jsx)("p",{className:"text-red-500 bg-red-100 p-2 rounded-md mb-4",children:m}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"isbn",className:"block text-sm font-medium text-gray-700 mb-1",children:"ISBN"}),(0,r.jsx)("input",{type:"text",id:"isbn",value:o,onChange:e=>l(e.target.value),className:"w-full rounded-md border-gray-200 bg-white text-sm text-gray-700 shadow-sm",disabled:c})]}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsx)("button",{onClick:p,disabled:c,className:"rounded-md border border-green-600 bg-green-600 px-6 py-2 text-sm font-medium text-white transition hover:bg-transparent hover:text-green-600 focus:outline-none focus:ring active:text-green-500",children:c?"Saving...":"Save"}),(0,r.jsx)("button",{onClick:i,disabled:c,className:"rounded-md border border-red-600 bg-red-600 px-6 py-2 text-sm font-medium text-white transition hover:bg-transparent hover:text-red-600 focus:outline-none focus:ring active:text-red-500",children:"Cancel"})]})]}):(0,r.jsx)("p",{className:"text-red-500",children:"Error: Book data is not available. Please try again."})}},7982:(e,t,a)=>{"use strict";a.d(t,{db:()=>o,j:()=>i});var r=a(9904),s=a(4565),n=a(7058);let d=(0,r.Wp)({apiKey:"AIzaSyABs8ZIhbsAPFm8PqfE-v_kqVFvM8Fv4kU",authDomain:"frontend-app-wsei.firebaseapp.com",projectId:"frontend-app-wsei",storageBucket:"frontend-app-wsei.firebasestorage.app",messagingSenderId:"193371263244",appId:"1:193371263244:web:6ba3fa9cf180e5079bb929",measurementId:"G-7M1R3618T9"}),i=(0,s.xI)(d),o=(0,n.aU)(d)}},e=>{var t=t=>e(e.s=t);e.O(0,[697,992,512,778,441,517,358],()=>t(4909)),_N_E=e.O()}]);